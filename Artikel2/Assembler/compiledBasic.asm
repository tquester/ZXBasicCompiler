
CBASIC_START
compiledBasic:
	call ZXHeapClear
	LD (runtimeSaveSP),SP
; 		1000.1  LET a=1{00 00 01 00 00 }
	LD A,1
	LD (23623),a
	LD HL,1
	LD (ZXBASIC_VAR_a),HL
ZXBASIC_LINE_1010:
; 1010  LET a=1
	LD HL,1010
	LD (23621),HL
; 		1010.1  LET a=1{00 00 01 00 00 }
	LD A,1
	LD (23623),a
	LD HL,1
	LD (ZXBASIC_VAR_a),HL
ZXBASIC_LINE_1020:
; 1020  IF  NOT (a<10) THEN  GOTO 1070
	LD HL,1020
	LD (23621),HL
; 		1020.1  IF  NOT (a<10{00 00 0a 00 00 }) THEN  GOTO 1070{00 00 2e 04 00 }
	LD A,1
	LD (23623),a
; NOT
	LD DE,(ZXBASIC_VAR_a)
	LD HL,10
; <
	CALL runtimeCmpHLltDE
	CALL runtimeNotHL
	LD A,L
	CP 0
	JP Z,ZXB_LABEL_1
; 		1020.2  GOTO 1070{00 00 2e 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1070
ZXB_LABEL_1:
ZXBASIC_LINE_1030:
; 1030  IF a>5 THEN  GOTO 1070
	LD HL,1030
	LD (23621),HL
; 		1030.1  IF a>5{00 00 05 00 00 } THEN  GOTO 1070{00 00 2e 04 00 }
	LD A,1
	LD (23623),a
	LD DE,(ZXBASIC_VAR_a)
	LD HL,5
; >
	CALL runtimeCmpHlGtDE
	LD A,L
	CP 0
	JP Z,ZXB_LABEL_2
; 		1030.2  GOTO 1070{00 00 2e 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1070
ZXB_LABEL_2:
ZXBASIC_LINE_1040:
; 1040  PRINT "a=";a
	LD HL,1040
	LD (23621),HL
; 		1040.1  PRINT "a=";a
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_0	;a=
	CALL runtimePrintString
	LD HL,(ZXBASIC_VAR_a)
	CALL runtimePrintInt
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1050:
; 1050  LET a=a+1
	LD HL,1050
	LD (23621),HL
; 		1050.1  LET a=a+1{00 00 01 00 00 }
	LD A,1
	LD (23623),a
	LD HL,(ZXBASIC_VAR_a)
	INC HL
; +
	LD (ZXBASIC_VAR_a),HL
ZXBASIC_LINE_1060:
; 1060  GOTO 1020
	LD HL,1060
	LD (23621),HL
; 		1060.1  GOTO 1020{00 00 fc 03 00 }
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1020
ZXBASIC_LINE_1070:
; 1070  LET key=7
	LD HL,1070
	LD (23621),HL
; 		1070.1  LET key=7{00 00 07 00 00 }
	LD A,1
	LD (23623),a
	LD HL,7
	LD (ZXBASIC_VAR_key),HL
ZXBASIC_LINE_1080:
; 1080  IF key <> 1 THEN  GOTO 1100
	LD HL,1080
	LD (23621),HL
; 		1080.1  IF key <> 1{00 00 01 00 00 } THEN  GOTO 1100{00 00 4c 04 00 }
	LD A,1
	LD (23623),a
	LD DE,(ZXBASIC_VAR_key)
	LD HL,1
; <>
	CALL runtimeCmpHlNeDE
	LD A,L
	CP 0
	JP Z,ZXB_LABEL_3
; 		1080.2  GOTO 1100{00 00 4c 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1100
ZXB_LABEL_3:
ZXBASIC_LINE_1090:
; 1090  LET controlFN=1220: GOTO 1150
	LD HL,1090
	LD (23621),HL
; 		1090.1  LET controlFN=1220{00 00 c4 04 00 }
	LD A,1
	LD (23623),a
	LD HL,1220
	LD (ZXBASIC_VAR_controlFN),HL
; 		1090.2  GOTO 1150{00 00 7e 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1150
ZXBASIC_LINE_1100:
; 1100  IF key <> 2 THEN  GOTO 1120
	LD HL,1100
	LD (23621),HL
; 		1100.1  IF key <> 2{00 00 02 00 00 } THEN  GOTO 1120{00 00 60 04 00 }
	LD A,1
	LD (23623),a
	LD DE,(ZXBASIC_VAR_key)
	LD HL,2
; <>
	CALL runtimeCmpHlNeDE
	LD A,L
	CP 0
	JP Z,ZXB_LABEL_4
; 		1100.2  GOTO 1120{00 00 60 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1120
ZXB_LABEL_4:
ZXBASIC_LINE_1110:
; 1110  LET controlFN=1240: GOTO 1150
	LD HL,1110
	LD (23621),HL
; 		1110.1  LET controlFN=1240{00 00 d8 04 00 }
	LD A,1
	LD (23623),a
	LD HL,1240
	LD (ZXBASIC_VAR_controlFN),HL
; 		1110.2  GOTO 1150{00 00 7e 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1150
ZXBASIC_LINE_1120:
; 1120  IF key <> 3 THEN  GOTO 1140
	LD HL,1120
	LD (23621),HL
; 		1120.1  IF key <> 3{00 00 03 00 00 } THEN  GOTO 1140{00 00 74 04 00 }
	LD A,1
	LD (23623),a
	LD DE,(ZXBASIC_VAR_key)
	LD HL,3
; <>
	CALL runtimeCmpHlNeDE
	LD A,L
	CP 0
	JP Z,ZXB_LABEL_5
; 		1120.2  GOTO 1140{00 00 74 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1140
ZXB_LABEL_5:
ZXBASIC_LINE_1130:
; 1130  LET controlFN=1260: GOTO 1150
	LD HL,1130
	LD (23621),HL
; 		1130.1  LET controlFN=1260{00 00 ec 04 00 }
	LD A,1
	LD (23623),a
	LD HL,1260
	LD (ZXBASIC_VAR_controlFN),HL
; 		1130.2  GOTO 1150{00 00 7e 04 00 }
	LD A,2
	LD (23623),a
	CALL runtimeCheckBreak
	JP ZXBASIC_LINE_1150
ZXBASIC_LINE_1140:
; 1140  LET controlFN=1280
	LD HL,1140
	LD (23621),HL
; 		1140.1  LET controlFN=1280{00 00 00 05 00 }
	LD A,1
	LD (23623),a
	LD HL,1280
	LD (ZXBASIC_VAR_controlFN),HL
ZXBASIC_LINE_1150:
; 1150  PRINT "Funktionsaufruf: Key = ";key
	LD HL,1150
	LD (23621),HL
; 		1150.1  PRINT "Funktionsaufruf
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_1	;Funktionsaufruf: Key = 
	CALL runtimePrintString
	LD HL,(ZXBASIC_VAR_key)
	CALL runtimePrintInt
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1160:
; 1160  GO SUB controlFN
	LD HL,1160
	LD (23621),HL
; 		1160.1  GO SUB controlFN
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	LD DE,(ZXBASIC_VAR_controlFN)
	LD HL,ZXLINES
	CALL runtimeFindLine
	CALL runtimeVarCall
ZXBASIC_LINE_1170:
; 1170  PRINT "Funktionsaufruf: ",
	LD HL,1170
	LD (23621),HL
; 		1170.1  PRINT "Funktionsaufruf
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_2	;Funktionsaufruf: 
	CALL runtimePrintString
	CALL runtimePrintTab
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1180:
; 1180  GO SUB 1330
	LD HL,1180
	LD (23621),HL
; 		1180.1  GO SUB 1330{00 00 32 05 00 }
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	CALL ZXBASIC_LINE_1330
ZXBASIC_LINE_1190:
; 1190  LET PROCtest0=100: LET PROCtest1=200: GO SUB 1300
	LD HL,1190
	LD (23621),HL
; 		1190.1  LET PROCtest0=100{00 00 64 00 00 }
	LD A,1
	LD (23623),a
	LD HL,100
	LD (ZXBASIC_VAR_PROCtest0),HL
; 		1190.2  LET PROCtest1=200{00 00 c8 00 00 }
	LD A,2
	LD (23623),a
	LD HL,200
	LD (ZXBASIC_VAR_PROCtest1),HL
; 		1190.3  GO SUB 1300{00 00 14 05 00 }
	LD A,3
	LD (23623),a
	CALL runtimeCheckBreak
	CALL ZXBASIC_LINE_1300
ZXBASIC_LINE_1200:
; 1200  PAUSE 0
	LD HL,1200
	LD (23621),HL
; 		1200.1  PAUSE 0{00 00 00 00 00 }
	LD A,1
	LD (23623),a
	LD HL,0
	CALL runtimePause
ZXBASIC_LINE_1210:
; 1210  RETURN 
	LD HL,1210
	LD (23621),HL
; 		1210.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1220:
; 1220  PRINT "game control with keyboard"
	LD HL,1220
	LD (23621),HL
; 		1220.1  PRINT "game control with keyboard"
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_3	;game control with keyboard
	CALL runtimePrintString
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1230:
; 1230  RETURN 
	LD HL,1230
	LD (23621),HL
; 		1230.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1240:
; 1240  PRINT "game control with kempston"
	LD HL,1240
	LD (23621),HL
; 		1240.1  PRINT "game control with kempston"
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_4	;game control with kempston
	CALL runtimePrintString
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1250:
; 1250  RETURN 
	LD HL,1250
	LD (23621),HL
; 		1250.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1260:
; 1260  PRINT "game control with sinclair"
	LD HL,1260
	LD (23621),HL
; 		1260.1  PRINT "game control with sinclair"
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_5	;game control with sinclair
	CALL runtimePrintString
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1270:
; 1270  RETURN 
	LD HL,1270
	LD (23621),HL
; 		1270.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1280:
; 1280  PRINT "game control undef"
	LD HL,1280
	LD (23621),HL
; 		1280.1  PRINT "game control undef"
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_6	;game control undef
	CALL runtimePrintString
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1290:
; 1290  RETURN 
	LD HL,1290
	LD (23621),HL
; 		1290.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1300:
; 1300  PRINT "test PROC with abc=";PROCtest0;" def=";PROCtest1
	LD HL,1300
	LD (23621),HL
; 		1300.1  PRINT "test PROC with abc=";PROCtest0;" def=";PROCtest1
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_7	;test PROC with abc=
	CALL runtimePrintString
	LD HL,(ZXBASIC_VAR_PROCtest0)
	CALL runtimePrintInt
	LD HL,STRING_8	; def=
	CALL runtimePrintString
	LD HL,(ZXBASIC_VAR_PROCtest1)
	CALL runtimePrintInt
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1310:
; 1310  PRINT "abc+def=";PROCtest0+PROCtest1
	LD HL,1310
	LD (23621),HL
; 		1310.1  PRINT "abc+def=";PROCtest0+PROCtest1
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_9	;abc+def=
	CALL runtimePrintString
	LD DE,(ZXBASIC_VAR_PROCtest0)
	LD HL,(ZXBASIC_VAR_PROCtest1)
; +
	ADD HL,DE
	CALL runtimePrintInt
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1320:
; 1320  RETURN 
	LD HL,1320
	LD (23621),HL
; 		1320.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1330:
; 1330  PRINT "Test2 PROC called"
	LD HL,1330
	LD (23621),HL
; 		1330.1  PRINT "Test2 PROC called"
	LD A,1
	LD (23623),a
	LD A,2
	CALL $1601	;Open Channel
	LD A,(ZX_P_FLAG)
	PUSH AF
	LD HL,STRING_10	;Test2 PROC called
	CALL runtimePrintString
	CALL runtimePrintNewline
	POP AF
	LD (ZX_P_FLAG),A
ZXBASIC_LINE_1340:
; 1340  RETURN 
	LD HL,1340
	LD (23621),HL
; 		1340.1  RETURN 
	LD A,1
	LD (23623),a
	CALL runtimeCheckBreak
	RET
ZXBASIC_LINE_1350:
; 1350  LET label=1010
	LD HL,1350
	LD (23621),HL
; 		1350.1  LET label=1010{00 00 f2 03 00 }
	LD A,1
	LD (23623),a
	LD HL,1010
	LD (ZXBASIC_VAR_label),HL
ZXBASIC_LINE_1360:
; 1360  STOP \000
	LD HL,1360
	LD (23621),HL
ZXBASIC_VAR_PROCtest0:	dw 0
ZXBASIC_VAR_PROCtest1:	dw 0
ZXBASIC_VAR_a:	dw 0
ZXBASIC_VAR_controlFN:	dw 0
ZXBASIC_VAR_key:	dw 0
ZXBASIC_VAR_label:	dw 0
STRING_0:	dw 2
	db	"a="
STRING_1:	dw 23
	db	"Funktionsaufruf: Key = "
STRING_10:	dw 17
	db	"Test2 PROC called"
STRING_2:	dw 17
	db	"Funktionsaufruf: "
STRING_3:	dw 26
	db	"game control with keyboard"
STRING_4:	dw 26
	db	"game control with kempston"
STRING_5:	dw 26
	db	"game control with sinclair"
STRING_6:	dw 18
	db	"game control undef"
STRING_7:	dw 19
	db	"test PROC with abc="
STRING_8:	dw 5
	db	" def="
STRING_9:	dw 8
	db	"abc+def="
ZXLINES:
	dw 1010, ZXBASIC_LINE_1010
	dw 1020, ZXBASIC_LINE_1020
	dw 1030, ZXBASIC_LINE_1030
	dw 1040, ZXBASIC_LINE_1040
	dw 1050, ZXBASIC_LINE_1050
	dw 1060, ZXBASIC_LINE_1060
	dw 1070, ZXBASIC_LINE_1070
	dw 1080, ZXBASIC_LINE_1080
	dw 1090, ZXBASIC_LINE_1090
	dw 1100, ZXBASIC_LINE_1100
	dw 1110, ZXBASIC_LINE_1110
	dw 1120, ZXBASIC_LINE_1120
	dw 1130, ZXBASIC_LINE_1130
	dw 1140, ZXBASIC_LINE_1140
	dw 1150, ZXBASIC_LINE_1150
	dw 1160, ZXBASIC_LINE_1160
	dw 1170, ZXBASIC_LINE_1170
	dw 1180, ZXBASIC_LINE_1180
	dw 1190, ZXBASIC_LINE_1190
	dw 1200, ZXBASIC_LINE_1200
	dw 1210, ZXBASIC_LINE_1210
	dw 1220, ZXBASIC_LINE_1220
	dw 1230, ZXBASIC_LINE_1230
	dw 1240, ZXBASIC_LINE_1240
	dw 1250, ZXBASIC_LINE_1250
	dw 1260, ZXBASIC_LINE_1260
	dw 1270, ZXBASIC_LINE_1270
	dw 1280, ZXBASIC_LINE_1280
	dw 1290, ZXBASIC_LINE_1290
	dw 1300, ZXBASIC_LINE_1300
	dw 1310, ZXBASIC_LINE_1310
	dw 1320, ZXBASIC_LINE_1320
	dw 1330, ZXBASIC_LINE_1330
	dw 1340, ZXBASIC_LINE_1340
	dw 1350, ZXBASIC_LINE_1350
	dw 1360, ZXBASIC_LINE_1360
	dw 0, 0

ZX_VARIABLES:
	db 0

    DISPLAY "Compiled Basic = ", /D, $-CBASIC_START,  " bytes"
